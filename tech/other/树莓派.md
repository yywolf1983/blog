
raspberry pi
树莓派

 用户名 pi
 默认密码 raspberry

sudo dd bs=1m if=<your image file name>.img of=/dev/<disk#>

diskutil list
diskutil unmountDisk /dev/disk2
sudo dd bs=1m if=/Users/yy/Downloads/2019-04-08-raspbian-stretch-lite.img of=/dev/disk2



国内源
软件源
/etc/apt/sources.list
阿里源，deb http://mirrors.aliyun.com/raspbian/raspbian/ stretch main contrib non-free rpi
系统源
/etc/apt/sources.list.d/raspi.list
deb http://mirrors.aliyun.com/debian/  stretch main ui

 sudo apt-get update && apt-get upgrade

101键PC键盘
选Other
选English(US)
English(US, alternative international)
按tab键，到OK，按Enter确定
重启 ok

开始配置
sudo dpkg-reconfigure console-setup

手动启动 wifi
sudo wpa_cli status

sudo vim /etc/wpa_supplicant/wpa_supplicant.conf
```
# 在该文件最后添加下面的话
# **** 注意 一下是用tab 用空格会出错 ****
country=GB
ctrl_interface=DIR=/var/run/wpa_supplicant GROUP=netdev
update_config=1

network={
	ssid="yywolf"
	psk="xxxxxxxx"
	key_mgmt=WPA-PSK
	priority=10
}
network={
	ssid=e799bde6a183e8afb42de7a094e58f91
	psk="xxxxxxxx"
	key_mgmt=WPA-PSK
        priority=9
}


获取essid
iwlist scan | grep ESSID

# 引号部分分别为wifi的名字和密码
# 保存文件后几秒钟应该就会自动连接到该wifi
# 查看是否连接成功
ifconfig wlan0
```
重启pi wifi
sudo killall wpa_supplicant ; sudo wpa_supplicant -B -i wlan0 -c /etc/wpa_supplicant/wpa_supplicant.conf

内置默认wifi
wifi_go/a1234567

查看 ESSID和BSSID 解决中文问题

通过mac 找ip
ping -b 10.0.0.255
arp -a | grep 'b8:27:eb:xx:xx:xx'

#### 静态网络设置
```
/etc/dhcpcd.conf
#interface eth0
#static ip_address=192.168.0.10/24
#static ip6_address=fd51:42f8:caae:d92e::ff/64
#static routers=192.168.0.1
#static domain_name_servers=192.168.0.1 8.8.8.8 fd51:42f8:caae:d92e::1
```
修改/etc/network/interface文件

auto lo

iface lo inet loopback

iface eth0 inet dhcp
auto wlan0
allow-hotplug wlan0
iface wlan0 inet dhcp
wpa-ssid   接入AP的名字
wpa－psk   接入AP的密码 

保存文件，然后运行如下命令重新启动网络！

sudo /etc/init.d/networking restart

方法1
sudo raspi-config
方法2 中文ssid
sudo wpa_cli
> add_network
4 <--- 记住这个号码！
> set_network 0 ssid "白桃说-研发"
OK
> set_network 0 key_mgmt WPA-PSK
OK
> set_network 0 psk "baitaoshuoyanfa"
OK
> enable_network 4
OK
> save_config <--------别忘了这个，否则重启之后网络配置可能丢失
OK


sudo iwlist wlan0 scan

/System/Library/PrivateFrameworks/Apple80211.framework/Versions/Current/Resources/airport  -s


### 启动ssh
#### 方法1
sudo /etc/init.d/ssh start
#### 方法2
将SD卡连接到电脑上并打开，直接新建“SSH”文件（无后缀）即可


mac usb打开

sd卡上config.txt中末行添加
dtoverlay=dwc2
cmdline.txt文件中rootwait后添加
modules-load=dwc2,g_ether

ssh -l pi raspberrypi.local


蓝牙使用
/etc/init.d/bluetooth status
sudo bluetoothctl
list
scan on
devices
power on
agent on

pair
trust
connect

sudo apt-get install pi-bluetooth bluez bluez-firmware blueman


bluetoothd -v
sudo hciconfig hci0 up
hcitool scan

bluez-simple-agent hci0 aa:bb:cc:dd:ee:ff
加入信任列表
bluez-test-device trusted aa:bb:cc:dd:ee:ff yes


pip install gpiozero
pinout

sudo apt-get install tightvncserver




服务列表
hciuart  指针定义
avahi-daemon 发现服务
raspberrypi-net-mods 无线网卡
triggerhappy  设备监视
fake-hwclock  时间恢复系统

minidlan
sudo apt-get install minidlna
sudo service minidlna start

sudo apt-get install kodi
安装后直接启动 太强大

vi /etc/default/isc-dhcp-server 添加网络接口
vi /etc/dhcp/dhcpd.conf  添加子网网段
subnet 10.0.0.0 netmask 255.255.255.0 {
range 10.0.0.10 10.0.0.100;
option domain-name-servers 202.206.192.33, 223.5.5.5;
option domain-name "mylab.com";
option subnet-mask 255.255.255.0;
option routers 10.0.0.1;
option broadcast-address 10.0.0.255;
default-lease-time 600;
max-lease-time 7200;
}