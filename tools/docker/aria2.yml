version: '3.8'
services:
  aria2:
    image: p3terx/aria2-pro:latest
    container_name: aria2-pro
    restart: always
    logging:
      options:
        max-size: 1m
    environment:
      - RPC_SECRET=your_rpc_secret_here  # 请设置一个安全的密钥
      - RPC_PORT=6800
      - LISTEN_PORT=6888
      - DISK_CACHE=64M
      - UPDATE_TRACKERS=true
      - TZ=Asia/Shanghai
    ports:
      - "6800:6800"  # Aria2 RPC 端口
      - "6888:6888"  # BT 监听端口 (TCP)
      - "6888:6888/udp"  # DHT 监听端口 (UDP)
    volumes:
      - /Users/yy/Downloads:/downloads  # 下载文件存储目录

  ariang:
    image: p3terx/ariang:latest
    container_name: aria2-ui
    restart: unless-stopped
    ports:
      - "6880:6880"  # AriaNg Web 界面访问端口
    depends_on:
      - aria2
